# 布线记录列表页 - 详细设计

## 1. 页面概述

**页面名称：** 布线记录列表页（主页）

**页面路径：** `/` 或 `/records`

**页面定位：** 系统核心页面，用户使用频率最高的页面，提供多机房数据统一管理和灵活查询功能

**设计目标：** 
- 支持多机房数据统一展示
- 提供灵活的查询功能，特别是按机房查询和关键字模糊查询
- 快速响应，操作便捷
- 数据展示清晰，信息密度适中

---

## 2. 页面布局

### 2.1 整体布局

```
┌─────────────────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                                      [上传] │
├─────────────────────────────────────────────────────────────────────┤
│  【查询条件】                                                        │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ 机房: [全部▼] [临港机房] [金桥机房] [国定机房] [唐镇机房]...   │  │
│  │       [+] 添加机房筛选  [-] 清除机房筛选                      │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │ 关键字: [________________________] (支持模糊查询)             │  │
│  │         可查询: 登记表编号、IDC需求编号、YES工单编号、用户单位 │  │
│  │                线路编号、A端、Z端、用户机柜、运营商、线缆类型   │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │ 线缆类型: [全部▼] [单模光纤] [多模光纤] [网线]                │  │
│  │ 运营商:   [全部▼] [OCN] [电信] [移动] [联通]                  │  │
│  │ 标签齐全: [全部▼] [是] [否]                                   │  │
│  │ 线路规范: [全部▼] [是] [否]                                   │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │ [查询] [清空条件]                                             │  │
│  └───────────────────────────────────────────────────────────────┘  │
│  找到 156 条记录 (临港机房: 45, 金桥机房: 32, 国定机房: 79)       │
├─────────────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ 编号   │机房名称│用户单位│线路编号    │A端      │Z端    │操作│  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │WL-001  │临港机房│东方有线│4705764620 │丽正路...│101机房│[详情]│  │
│  │WL-002  │临港机房│科大讯飞│4705764621 │接入间...│102机房│[详情]│  │
│  │WL-003  │金桥机房│永城资管│4705764622 │金桥...  │G01    │[详情]│  │
│  │WL-004  │国定机房│东方有线│4705764623 │国定...  │A01    │[详情]│  │
│  │...     │...     │...     │...        │...      │...    │...  │  │
│  └───────────────────────────────────────────────────────────────┘  │
├─────────────────────────────────────────────────────────────────────┤
│  [< 上一页] 第 1 页 / 共 8 页 [下一页 >]  每页显示: [50▼] 条       │
└─────────────────────────────────────────────────────────────────────┘
```

### 2.2 布局说明

**顶部导航栏**
- 左侧：系统名称"综合布线记录管理系统"
- 右侧：上传按钮

**查询条件区**
- 机房筛选区
- 关键字查询区
- 精确筛选区（线缆类型、运营商、标签齐全、线路规范）
- 操作按钮区

**查询结果统计区**
- 显示总记录数
- 按机房分组显示记录数量

**数据表格区**
- 表头
- 数据行
- 操作列

**分页控件区**
- 分页按钮
- 每页显示数量选择器

---

## 3. 页面元素详细设计

### 3.1 顶部导航栏

**元素：**
- 系统名称：左侧显示，字体加粗，字号18px
- 上传按钮：右侧显示，蓝色背景，圆角按钮

**交互：**
- 点击上传按钮跳转到上传文件页

**样式：**
- 背景色：#ffffff
- 边框：底部1px solid #e4e7ed
- 高度：60px
- 内边距：0 20px

---

### 3.2 机房筛选区（核心功能）

**元素：**
- 机房多选下拉框
- 快捷机房标签
- 添加机房筛选按钮
- 清除机房筛选按钮

**功能说明：**
- 支持选择一个或多个机房
- 点击快捷机房标签快速添加/移除机房筛选
- 显示已选机房数量
- 支持按机房分组统计记录数量

**交互：**
- 点击下拉框展开机房列表
- 点击机房标签快速切换筛选状态
- 点击"添加机房筛选"展开机房选择面板
- 点击"清除机房筛选"清空所有机房筛选条件

**样式：**
- 机房标签：蓝色背景，圆角，可点击
- 已选机房：深蓝色背景
- 未选机房：浅灰色背景

---

### 3.3 关键字查询区

**元素：**
- 关键字输入框
- 提示文字

**功能说明：**
- 支持模糊查询以下字段：
  - 登记表编号
  - IDC需求编号
  - YES工单编号
  - 用户单位
  - 线路编号
  - A端（起始端口）
  - Z端（目标端口）
  - 用户机柜
  - 运营商
  - 线缆类型

**交互：**
- 输入关键字后按回车键触发查询
- 支持实时搜索（可选）
- 点击查询按钮触发查询

**样式：**
- 输入框：宽度100%，高度40px，圆角边框
- 提示文字：灰色小字，字号12px

---

### 3.4 精确筛选区

**元素：**
- 线缆类型下拉框
- 运营商下拉框
- 标签齐全下拉框
- 线路规范下拉框

**功能说明：**
- 线缆类型：全部、单模光纤、多模光纤、网线
- 运营商：全部、OCN、电信、移动、联通
- 标签齐全：全部、是、否
- 线路规范：全部、是、否

**交互：**
- 点击下拉框展开选项
- 选择选项后自动刷新查询结果（可选）

**样式：**
- 下拉框：宽度120px，高度36px
- 选项：鼠标悬停高亮

---

### 3.5 操作按钮区

**元素：**
- 查询按钮
- 清空条件按钮

**功能说明：**
- 查询按钮：执行查询操作
- 清空条件按钮：清空所有查询条件，恢复显示所有记录

**交互：**
- 点击查询按钮执行查询
- 点击清空条件按钮清空所有条件

**样式：**
- 查询按钮：蓝色背景，白色文字，圆角按钮
- 清空条件按钮：白色背景，灰色边框，灰色文字，圆角按钮

---

### 3.6 查询结果统计区

**元素：**
- 总记录数显示
- 按机房分组统计

**功能说明：**
- 显示总记录数
- 按机房分组显示记录数量

**样式：**
- 背景色：#f5f7fa
- 内边距：10px 20px
- 字体：灰色，字号14px

---

### 3.7 数据表格区

**元素：**
- 表头
- 数据行
- 操作列

**功能说明：**
- 表头：编号、机房名称、用户单位、线路编号、A端、Z端、操作
- 支持点击表头排序
- 支持列显示/隐藏配置
- 鼠标悬停高亮

**交互：**
- 点击表头排序
- 点击详情按钮跳转到详情页
- 鼠标悬停高亮当前行

**样式：**
- 表头：灰色背景，白色文字，字号14px
- 数据行：白色背景，黑色文字，字号14px
- 操作列：蓝色链接文字
- 鼠标悬停：浅灰色背景

---

### 3.8 分页控件区

**元素：**
- 上一页按钮
- 下一页按钮
- 页码显示
- 每页显示数量选择器

**功能说明：**
- 上一页/下一页按钮：翻页
- 页码显示：显示当前页码和总页数
- 每页显示数量选择器：20、50、100、200

**交互：**
- 点击上一页/下一页按钮翻页
- 点击页码跳转到指定页
- 选择每页显示数量刷新列表

**样式：**
- 按钮：灰色背景，白色文字，圆角按钮
- 当前页：蓝色背景，白色文字
- 其他页：白色背景，灰色文字

---

## 4. 交互流程

### 4.1 按机房查询流程（核心流程）

1. 用户在布线记录列表页选择一个或多个机房
2. 点击快捷机房标签快速添加/移除筛选
3. 系统自动刷新显示选中机房的记录
4. 显示各机房记录数量统计
5. 用户可以继续添加其他查询条件（关键字、线缆类型、运营商等）
6. 点击"查询"按钮或按回车键执行查询
7. 列表刷新显示查询结果
8. 显示查询结果数量和机房分组统计
9. 用户可以点击"清空条件"恢复显示所有记录

### 4.2 关键字模糊查询流程

1. 用户在关键字输入框输入查询内容
2. 系统自动在以下字段中模糊查询：
   - 登记表编号
   - IDC需求编号
   - YES工单编号
   - 用户单位
   - 线路编号
   - A端（起始端口）
   - Z端（目标端口）
   - 用户机柜
   - 运营商
   - 线缆类型
3. 点击"查询"按钮或按回车键
4. 列表刷新显示查询结果
5. 显示匹配的记录数量

### 4.3 组合查询流程

1. 用户选择机房筛选（可选）
2. 用户输入关键字查询（可选）
3. 用户选择线缆类型（可选）
4. 用户选择运营商（可选）
5. 用户选择标签齐全状态（可选）
6. 用户选择线路规范状态（可选）
7. 点击"查询"按钮
8. 系统组合所有条件进行查询
9. 显示查询结果

### 4.4 查看详情流程

1. 用户在布线记录列表页点击某条记录的"详情"按钮
2. 跳转到记录详情页
3. 显示该记录的核心信息
4. 用户可以点击"返回列表"返回列表页

---

## 5. 快捷操作

### 5.1 保存常用查询条件

**功能说明：**
- 用户可以保存常用的查询条件
- 下次使用时快速加载

**交互：**
- 点击"保存查询条件"按钮
- 输入查询条件名称
- 保存成功后显示在常用查询列表中

### 5.2 导出查询结果

**功能说明：**
- 用户可以导出查询结果为Excel文件
- 支持导出当前页或全部查询结果

**交互：**
- 点击"导出"按钮
- 选择导出范围（当前页/全部）
- 下载Excel文件

---

## 6. 技术实现要点

### 6.1 前端技术栈

- Vue 3 + TypeScript
- Element Plus（UI组件库）
- Vue Router（路由管理）
- Axios（HTTP请求）
- Pinia（状态管理）

### 6.2 核心组件

- 机房筛选组件：支持多选、快捷标签
- 关键字查询组件：支持模糊查询
- 精确筛选组件：下拉框筛选
- 数据表格组件：支持排序、分页
- 分页组件：支持跳转、每页显示数量选择

### 6.3 数据查询

- 使用后端分页查询
- 支持多条件组合查询
- 查询参数：机房列表、关键字、线缆类型、运营商、标签齐全、线路规范、页码、每页数量

### 6.4 性能优化

- 使用虚拟滚动处理大量数据
- 使用防抖优化关键字查询
- 使用缓存优化常用查询

---

## 7. 响应式设计

### 7.1 桌面端（>=1200px）

- 显示所有查询条件
- 表格显示所有列
- 分页控件完整显示

### 7.2 平板端（768px-1199px）

- 查询条件折叠显示
- 表格显示核心列
- 分页控件简化显示

### 7.3 移动端（<768px）

- 查询条件抽屉式显示
- 表格卡片式显示
- 分页控件简化显示

---

## 8. 用户体验优化

### 8.1 加载状态

- 查询时显示加载动画
- 数据加载失败显示错误提示

### 8.2 空状态

- 查询无结果时显示空状态提示
- 提供清空条件按钮

### 8.3 提示信息

- 查询成功显示成功提示
- 查询失败显示失败提示

### 8.4 快捷键

- 回车键：触发查询
- Esc键：清空条件

---

## 9. 数据字典

### 9.1 机房列表

- 临港机房
- 金桥机房
- 国定机房
- 唐镇机房
- 美盛机房
- 通联机房
- 深圳云引擎机房

### 9.2 线缆类型

- 单模光纤
- 多模光纤
- 网线

### 9.3 运营商

- OCN
- 电信
- 移动
- 联通

### 9.4 标签齐全

- 是
- 否

### 9.5 线路规范

- 是
- 否

---

## 10. 备注

- 本页面是系统的核心页面，查询功能是核心功能
- 支持多机房数据统一管理和查询
- 查询功能要灵活、快速、准确
- 界面要简洁、易用、美观
- 性能要优化，支持大量数据查询
