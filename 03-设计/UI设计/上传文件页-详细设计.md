# 上传文件页 - 详细设计

## 1. 页面概述

**页面名称：** 上传文件页

**页面路径：** `/upload`

**页面定位：** 数据录入页面，用于上传Excel布线记录文件，支持多机房数据导入

**设计目标：** 
- 简单易用，快速上传
- 支持拖拽上传
- 清晰显示上传进度
- 支持Excel格式文件上传

---

## 2. 页面布局

### 2.1 整体布局

```
┌─────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                        [< 返回] │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  上传Excel布线记录文件                                  │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  │        点击选择文件 或 拖拽到此处               │   │
│  │                                                 │   │
│  │      支持: .xlsx, .xls  (最大50MB)              │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  [选择文件]                                             │
│                                                         │
│  上传中... [████████████░░░░░░░░] 60%                 │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 2.2 布局说明

**顶部导航栏**
- 左侧：系统名称
- 右侧：返回按钮

**上传区域**
- 拖拽上传区域
- 上传提示文字
- 文件格式说明
- 选择文件按钮

**上传进度**
- 进度条
- 百分比显示

---

## 3. 页面元素详细设计

### 3.1 顶部导航栏

**元素：**
- 系统名称：左侧显示，字体加粗，字号18px
- 返回按钮：右侧显示，灰色背景，圆角按钮

**交互：**
- 点击返回按钮返回布线记录列表页

**样式：**
- 背景色：#ffffff
- 边框：底部1px solid #e4e7ed
- 高度：60px
- 内边距：0 20px

---

### 3.2 上传区域

**元素：**
- 拖拽上传区域
- 上传提示文字
- 文件格式说明
- 选择文件按钮

**功能说明：**
- 支持点击选择文件
- 支持拖拽文件到上传区域
- 支持Excel格式文件（.xlsx, .xls）
- 文件大小限制：最大50MB

**交互：**
- 点击上传区域打开文件选择对话框
- 拖拽文件到上传区域触发上传
- 选择文件后自动开始上传

**样式：**
- 上传区域：虚线边框，圆角，背景色#f5f7fa
- 上传提示文字：居中显示，字号16px，颜色#606266
- 文件格式说明：居中显示，字号12px，颜色#909399
- 选择文件按钮：蓝色背景，白色文字，圆角按钮

**拖拽状态：**
- 默认状态：灰色虚线边框
- 拖拽悬停状态：蓝色虚线边框
- 上传中状态：禁用上传区域

---

### 3.3 上传进度

**元素：**
- 进度条
- 百分比显示

**功能说明：**
- 显示上传进度
- 显示上传百分比

**交互：**
- 实时更新上传进度
- 上传完成后自动跳转到解析结果页

**样式：**
- 进度条：蓝色背景，高度8px，圆角
- 百分比显示：居中显示，字号14px，颜色#606266

---

## 4. 交互流程

### 4.1 点击上传流程

1. 用户点击上传区域或选择文件按钮
2. 打开文件选择对话框
3. 用户选择Excel文件
4. 验证文件格式和大小
5. 开始上传文件
6. 显示上传进度
7. 上传完成后自动跳转到解析结果页

### 4.2 拖拽上传流程

1. 用户拖拽Excel文件到上传区域
2. 上传区域显示拖拽悬停状态
3. 用户释放文件
4. 验证文件格式和大小
5. 开始上传文件
6. 显示上传进度
7. 上传完成后自动跳转到解析结果页

### 4.3 上传失败流程

1. 用户选择或拖拽文件
2. 验证文件格式或大小失败
3. 显示错误提示信息
4. 用户重新选择文件

---

## 5. 错误处理

### 5.1 文件格式错误

**错误信息：** "不支持的文件格式，请上传.xlsx或.xls格式的Excel文件"

**处理方式：**
- 显示错误提示
- 禁用上传
- 用户重新选择文件

### 5.2 文件大小超限

**错误信息：** "文件大小超过限制，最大支持50MB"

**处理方式：**
- 显示错误提示
- 禁用上传
- 用户重新选择文件

### 5.3 上传失败

**错误信息：** "上传失败，请重试"

**处理方式：**
- 显示错误提示
- 提供重试按钮
- 用户点击重试重新上传

---

## 6. 技术实现要点

### 6.1 前端技术栈

- Vue 3 + TypeScript
- Element Plus（UI组件库）
- Vue Router（路由管理）
- Axios（HTTP请求）

### 6.2 核心组件

- 上传组件：支持拖拽上传、点击上传
- 进度条组件：显示上传进度
- 提示组件：显示错误提示

### 6.3 文件上传

- 使用FormData上传文件
- 使用Axios发送HTTP请求
- 监听上传进度事件
- 上传成功后跳转到解析结果页

### 6.4 文件验证

- 前端验证文件格式（.xlsx, .xls）
- 前端验证文件大小（最大50MB）
- 后端再次验证文件格式和大小

---

## 7. 响应式设计

### 7.1 桌面端（>=1200px）

- 上传区域宽度：800px
- 居中显示

### 7.2 平板端（768px-1199px）

- 上传区域宽度：600px
- 居中显示

### 7.3 移动端（<768px）

- 上传区域宽度：100%
- 居中显示

---

## 8. 用户体验优化

### 8.1 加载状态

- 上传中显示进度条
- 上传完成后自动跳转

### 8.2 提示信息

- 上传成功显示成功提示
- 上传失败显示失败提示

### 8.3 快捷操作

- 支持拖拽上传
- 支持点击上传

---

## 9. 数据字典

### 9.1 支持的文件格式

- .xlsx
- .xls

### 9.2 文件大小限制

- 最大50MB

---

## 10. 备注

- 本页面是数据录入页面，用于上传Excel布线记录文件
- 支持多机房数据导入
- 界面要简洁、易用
- 上传速度要快
- 错误提示要清晰
