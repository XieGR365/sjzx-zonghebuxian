# 跳纤统计页 - 详细设计

## 1. 页面概述

**页面名称：** 跳纤统计页

**页面路径：** `/statistics`

**页面定位：** 数据统计展示页面，提供各机房跳纤数量的可视化统计和状态分析

**设计目标：** 
- 模块化展示各机房跳纤统计信息
- 清晰区分在用和已拆除线路状态
- 支持按机房和状态筛选
- 提供导出统计报表功能
- 支持点击机房查看详细记录

---

## 2. 页面布局

### 2.1 整体布局

```
┌─────────────────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                                      [返回列表] │
├─────────────────────────────────────────────────────────────────────┤
│  【筛选条件】                                                        │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ 机房: [全部▼] [临港机房] [金桥机房] [国定机房] [唐镇机房]...   │  │
│  │ 状态: [全部▼] [在用] [已拆除]                                 │  │
│  │                                        [导出统计报表]         │  │
│  └───────────────────────────────────────────────────────────────┘  │
│  汇总统计: 7个机房  共156条记录  在用132条  已拆除24条             │
├─────────────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ 临港机房                                     [查看详情]         │  │
│  │ ┌─────────────────────────────────────────────────────────┐   │  │
│  │ │ 跳纤总数: 45                                             │   │  │
│  │ │ 在用: 38 (84.44%)  已拆除: 7 (15.56%)                   │   │  │
│  │ │ ████████████████████████████████████░░░░░░░░░░░░░░░░░░░  │   │  │
│  │ │ (绿色84.44%)                                            (红色15.56%)              │   │  │
│  │ └─────────────────────────────────────────────────────────┘   │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │ 金桥机房                                     [查看详情]         │  │
│  │ ┌─────────────────────────────────────────────────────────┐   │  │
│  │ │ 跳纤总数: 32                                             │   │  │
│  │ │ 在用: 28 (87.50%)  已拆除: 4 (12.50%)                   │   │  │
│  │ │ ██████████████████████████████████████░░░░░░░░░░░░░░░░  │   │  │
│  │ │ (绿色87.50%)                                            (红色12.50%)              │   │  │
│  │ └─────────────────────────────────────────────────────────┘   │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │ 国定机房                                     [查看详情]         │  │
│  │ ┌─────────────────────────────────────────────────────────┐   │  │
│  │ │ 跳纤总数: 79                                             │   │  │
│  │ │ 在用: 66 (83.54%)  已拆除: 13 (16.46%)                  │   │  │
│  │ │ ████████████████████████████████████░░░░░░░░░░░░░░░░░░░  │   │  │
│  │ │ (绿色83.54%)                                            (红色16.46%)              │   │  │
│  │ └─────────────────────────────────────────────────────────┘   │  │
│  │ ...                                                           │  │
│  └───────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────┘
```

### 2.2 布局说明

**顶部导航栏**
- 左侧：系统名称"综合布线记录管理系统"
- 右侧：返回列表按钮

**筛选条件区**
- 机房筛选下拉框
- 状态筛选下拉框
- 导出统计报表按钮

**汇总统计区**
- 显示总机房数量
- 显示总记录数量
- 显示在用记录数量
- 显示已拆除记录数量

**统计卡片网格区**
- 响应式网格布局
- 每个卡片显示一个机房的统计信息
- 卡片包含机房名称、跳纤总数、在用数量、已拆除数量、状态占比进度条

---

## 3. 页面元素详细设计

### 3.1 顶部导航栏

**元素：**
- 系统名称：左侧显示，字体加粗，字号18px
- 返回列表按钮：右侧显示，蓝色背景，圆角按钮

**交互：**
- 点击返回列表按钮跳转到布线记录列表页

**样式：**
- 背景色：#ffffff
- 边框：底部1px solid #e4e7ed
- 高度：60px
- 内边距：0 20px

---

### 3.2 筛选条件区

**元素：**
- 机房筛选下拉框
- 状态筛选下拉框
- 导出统计报表按钮

**功能说明：**
- 机房筛选：全部、临港机房、金桥机房、国定机房、唐镇机房、美盛机房、通联机房、深圳云引擎机房
- 状态筛选：全部、在用、已拆除
- 导出统计报表：导出当前筛选条件下的统计数据为Excel文件

**交互：**
- 点击机房下拉框展开机房列表
- 点击状态下拉框展开状态选项
- 选择筛选条件后自动刷新统计卡片
- 点击导出统计报表按钮下载Excel文件

**样式：**
- 下拉框：宽度150px，高度36px
- 导出按钮：蓝色背景，白色文字，圆角按钮

---

### 3.3 汇总统计区

**元素：**
- 总机房数量显示
- 总记录数量显示
- 在用记录数量显示
- 已拆除记录数量显示

**功能说明：**
- 显示当前筛选条件下的汇总统计信息
- 实时更新统计数据

**样式：**
- 背景色：#f5f7fa
- 内边距：15px 20px
- 字体：灰色，字号14px
- 数值：加粗显示，字号16px

---

### 3.4 统计卡片

**元素：**
- 机房名称标题
- 查看详情按钮
- 跳纤总数显示
- 在用数量显示（绿色）
- 已拆除数量显示（红色）
- 状态占比进度条

**功能说明：**
- 显示单个机房的跳纤统计信息
- 清晰区分在用和已拆除线路状态
- 使用进度条可视化状态占比

**交互：**
- 点击查看详情按钮跳转到该机房的跳纤详情页
- 鼠标悬停卡片高亮显示

**样式：**
- 卡片：白色背景，圆角，阴影，内边距20px
- 机房名称：字号16px，加粗，颜色#303133
- 跳纤总数：字号24px，加粗，颜色#409EFF
- 在用数量：字号14px，颜色#67C23A（绿色）
- 已拆除数量：字号14px，颜色#F56C6C（红色）
- 进度条：高度8px，圆角，绿色和红色分段显示
- 查看详情按钮：蓝色链接文字，字号14px

**卡片网格布局：**
- 桌面端（>=1200px）：4列布局
- 平板端（768px-1199px）：3列布局
- 移动端（<768px）：1列布局

---

## 4. 交互流程

### 4.1 查看统计流程

1. 用户进入跳纤统计页
2. 系统自动加载所有机房的统计数据
3. 显示汇总统计信息和统计卡片网格
4. 用户可以选择机房筛选条件
5. 系统自动刷新显示选中机房的统计卡片
6. 用户可以选择状态筛选条件
7. 系统自动刷新显示符合状态条件的统计卡片
8. 用户可以点击"导出统计报表"按钮导出当前统计数据

### 4.2 查看机房详情流程

1. 用户在统计卡片上点击"查看详情"按钮
2. 跳转到该机房的跳纤详情页
3. 显示该机房的详细跳纤记录列表
4. 显示该机房的统计汇总信息
5. 用户可以按状态筛选跳纤记录
6. 用户可以点击记录查看详情
7. 用户可以点击"返回统计"返回跳纤统计页

### 4.3 导出统计报表流程

1. 用户在跳纤统计页设置筛选条件（可选）
2. 用户点击"导出统计报表"按钮
3. 系统生成Excel文件
4. 浏览器自动下载Excel文件
5. Excel文件包含各机房的统计信息

---

## 5. 跳纤详情页设计

### 5.1 页面布局

```
┌─────────────────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                                      [返回统计] │
├─────────────────────────────────────────────────────────────────────┤
│  【机房详情：临港机房】                                               │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ 跳纤总数: 45  在用: 38  已拆除: 7                             │  │
│  │ 状态: [全部▼] [在用] [已拆除]                                 │  │
│  └───────────────────────────────────────────────────────────────┘  │
├─────────────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ 编号   │线路编号    │A端          │Z端      │状态  │用户单位│操作│  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │WL-001  │4705764620 │丽正路...    │101机房  │在用  │东方有线│[详情]│  │
│  │WL-002  │4705764621 │接入间...    │102机房  │在用  │科大讯飞│[详情]│  │
│  │WL-003  │4705764622 │金桥...      │G01      │已拆除│永城资管│[详情]│  │
│  │...     │...        │...          │...      │...   │...     │...  │  │
│  └───────────────────────────────────────────────────────────────┘  │
├─────────────────────────────────────────────────────────────────────┤
│  [< 上一页] 第 1 页 / 共 2 页 [下一页 >]  每页显示: [50▼] 条       │
└─────────────────────────────────────────────────────────────────────┘
```

### 5.2 页面元素

**机房详情头部**
- 机房名称显示
- 统计信息显示（跳纤总数、在用数量、已拆除数量）
- 状态筛选下拉框

**跳纤记录表格**
- 表头：编号、线路编号、A端、Z端、状态、用户单位、操作
- 状态列：在用显示绿色，已拆除显示红色
- 操作列：详情按钮

**分页控件**
- 上一页/下一页按钮
- 页码显示
- 每页显示数量选择器

---

## 6. 技术实现要点

### 6.1 前端技术栈

- Vue 3 + TypeScript
- Element Plus（UI组件库）
- Vue Router（路由管理）
- Axios（HTTP请求）
- Pinia（状态管理）

### 6.2 核心组件

- 统计卡片组件：显示机房统计信息
- 状态进度条组件：可视化显示状态占比
- 机房筛选组件：下拉框筛选
- 状态筛选组件：下拉框筛选
- 导出按钮组件：导出Excel文件
- 统计卡片网格组件：响应式网格布局

### 6.3 数据获取

- 使用后端API获取统计数据
- 支持按机房和状态筛选
- 实时更新统计数据

### 6.4 性能优化

- 使用虚拟滚动处理大量卡片
- 使用防抖优化筛选操作
- 使用缓存优化统计数据

### 6.5 响应式设计

- 使用CSS Grid实现卡片网格布局
- 使用媒体查询适配不同屏幕尺寸
- 移动端优化卡片显示

---

## 7. 数据字典

### 7.1 机房列表

- 临港机房
- 金桥机房
- 国定机房
- 唐镇机房
- 美盛机房
- 通联机房
- 深圳云引擎机房

### 7.2 线路状态

- 在用（active）：绿色 #67C23A
- 已拆除（removed）：红色 #F56C6C

---

## 8. 用户体验优化

### 8.1 加载状态

- 加载统计数据时显示加载动画
- 数据加载失败显示错误提示

### 8.2 空状态

- 无统计数据时显示空状态提示
- 提供返回列表按钮

### 8.3 提示信息

- 导出成功显示成功提示
- 导出失败显示失败提示

### 8.4 动画效果

- 卡片加载动画
- 进度条动画
- 悬停效果

---

## 9. 备注

- 本页面是数据统计展示页面，重点是可视化展示
- 使用颜色区分线路状态，绿色表示在用，红色表示已拆除
- 支持按机房和状态灵活筛选
- 导出功能方便用户保存统计数据
- 点击卡片可以查看该机房的详细跳纤记录
- 响应式设计，支持多种设备访问
