# 综合布线记录管理系统 - 界面设计

## 1. 界面概览

系统核心是**灵活的查询功能**，支持多机房数据统一管理和查询。主要界面：
1. **布线记录列表页** - 主页面，核心功能，支持多机房灵活查询
2. **上传文件页** - 上传Excel布线记录文件（简化版）
3. **解析结果页** - 显示文件解析结果（简化版）
4. **记录详情页** - 查看单条布线记录的详细信息（简化版）

**设计重点：** 查询功能是核心，其他页面尽量简化，快速开发。

---

## 2. 界面详细设计

### 2.1 布线记录列表页（主页 - 核心页面）

**页面路径：** `/` 或 `/records`

**页面布局：**
```
┌─────────────────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                                      [上传] │
├─────────────────────────────────────────────────────────────────────┤
│  【查询条件】                                                        │
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ 机房: [全部▼] [临港机房] [金桥机房] [国定机房] [唐镇机房]...   │  │
│  │       [+] 添加机房筛选  [-] 清除机房筛选                      │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │ 关键字: [________________________] (支持模糊查询)             │  │
│  │         可查询: 登记表编号、IDC需求编号、YES工单编号、用户单位 │  │
│  │                线路编号、A端、Z端、用户机柜、运营商、线缆类型   │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │ 线缆类型: [全部▼] [单模光纤] [多模光纤] [网线]                │  │
│  │ 运营商:   [全部▼] [OCN] [电信] [移动] [联通]                  │  │
│  │ 标签齐全: [全部▼] [是] [否]                                   │  │
│  │ 线路规范: [全部▼] [是] [否]                                   │  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │ [查询] [清空条件]                                             │  │
│  └───────────────────────────────────────────────────────────────┘  │
│  找到 156 条记录 (临港机房: 45, 金桥机房: 32, 国定机房: 79)       │
├─────────────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────────────┐  │
│  │ 编号   │机房名称│用户单位│线路编号    │A端      │Z端    │操作│  │
│  ├───────────────────────────────────────────────────────────────┤  │
│  │WL-001  │临港机房│东方有线│4705764620 │丽正路...│101机房│[详情]│  │
│  │WL-002  │临港机房│科大讯飞│4705764621 │接入间...│102机房│[详情]│  │
│  │WL-003  │金桥机房│永城资管│4705764622 │金桥...  │G01    │[详情]│  │
│  │WL-004  │国定机房│东方有线│4705764623 │国定...  │A01    │[详情]│  │
│  │...     │...     │...     │...        │...      │...    │...  │  │
│  └───────────────────────────────────────────────────────────────┘  │
├─────────────────────────────────────────────────────────────────────┤
│  [< 上一页] 第 1 页 / 共 8 页 [下一页 >]  每页显示: [50▼] 条       │
└─────────────────────────────────────────────────────────────────────┘
```

**页面元素：**

**机房筛选区（核心功能）**
- 机房多选下拉框：支持选择一个或多个机房
- 快捷机房标签：点击快速添加/移除机房筛选
- 显示已选机房数量
- 支持按机房分组统计记录数量

**高级查询区**
- **关键字查询**：支持模糊查询多个字段
  - 登记表编号
  - IDC需求编号
  - YES工单编号
  - 用户单位
  - 线路编号
  - A端（起始端口）
  - Z端（目标端口）
  - 用户机柜
  - 运营商
  - 线缆类型
- **线缆类型下拉框**：单模光纤、多模光纤、网线
- **运营商下拉框**：OCN、电信、移动、联通
- **标签齐全下拉框**：是、否
- **线路规范下拉框**：是、否

**查询结果统计**
- 显示总记录数
- 按机房分组显示记录数量

**数据表格**
- 表头：编号、机房名称、用户单位、线路编号、A端、Z端、操作
- 支持点击表头排序
- 支持列显示/隐藏配置
- 鼠标悬停高亮

**分页控件**
- 上一页/下一页按钮
- 页码显示
- 每页显示数量选择器（20、50、100、200）

**查询快捷操作**
- 支持保存常用查询条件
- 支持导出查询结果为Excel

---

### 2.2 上传文件页（简化版）

**页面路径：** `/upload`

**页面布局：**
```
┌─────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                        [< 返回] │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  上传Excel布线记录文件                                  │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  │        点击选择文件 或 拖拽到此处               │   │
│  │                                                 │   │
│  │      支持: .xlsx, .xls  (最大50MB)              │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  [选择文件]                                             │
│                                                         │
│  上传中... [████████████░░░░░░░░] 60%                 │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

**页面元素：**
- 顶部导航栏：系统名称 + 返回按钮
- 上传区域：拖拽上传 + 选择文件按钮
- 上传进度：进度条显示
- **简化要点**：只保留核心上传功能，移除多余元素

---

### 2.3 解析结果页（简化版）

**页面路径：** `/parse-result/:fileId`

**页面布局：**
```
┌─────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                        [< 返回] │
├─────────────────────────────────────────────────────────┤
│  文件: 临港机房布线记录.xlsx                          │
│  解析成功: 共 25 条记录                               │
├─────────────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────────────┐  │
│  │ 机房名称 │用户单位│线路编号    │A端      │Z端  │  │
│  ├──────────────────────────────────────────────────┤  │
│  │ 临港机房 │东方有线│4705764620 │丽正路...│101机│  │
│  │ 临港机房 │科大讯飞│4705764621 │接入间...│102机│  │
│  │ ...     │...     │...        │...      │...  │  │
│  └──────────────────────────────────────────────────┘  │
│                                                         │
│  [取消] [确认保存]                                       │
└─────────────────────────────────────────────────────────┘
```

**页面元素：**
- 文件信息：文件名、解析状态、记录数量
- 解析结果表格：只显示关键字段
- 操作按钮：取消、确认保存
- **简化要点**：移除重新解析功能，表格只显示关键字段

---

### 2.4 记录详情页（简化版）

**页面路径：** `/record/:id`

**页面布局：**
```
┌─────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                        [< 返回] │
├─────────────────────────────────────────────────────────┤
│  记录: WL-001                                          │
├─────────────────────────────────────────────────────────┤
│  机房名称: 临港机房                                     │
│  用户单位: 东方有线                                     │
│  线路编号: 4705764620ShH                               │
│  A端: 丽正路老芦公路光交                               │
│  Z端: 101机房G01                                       │
│  用户机柜: -                                           │
│  运营商: OCN                                           │
│  线缆类型: 单模光纤                                     │
│  标签齐全: 是                                          │
│  线路规范: 是                                          │
│  备注: -                                               │
│                                                         │
│  [返回列表]                                             │
└─────────────────────────────────────────────────────────┘
```

**页面元素：**
- 记录基本信息：只显示核心字段
- 返回按钮
- **简化要点**：移除编辑、删除功能，只显示核心字段

---

## 3. 界面跳转关系

### 3.1 跳转关系图

```
                    ┌─────────────────┐
                    │  布线记录列表页  │ (主页)
                    │     /records     │
                    └────────┬────────┘
                             │
                             │ [上传按钮]
                             ▼
                    ┌─────────────────┐
                    │    上传文件页    │
                    │     /upload     │
                    └────────┬────────┘
                             │
                             │ [上传完成]
                             ▼
                    ┌─────────────────┐
                    │   解析结果页    │
                    │ /parse-result/  │
                    │     :fileId     │
                    └────────┬────────┘
                             │
                             │ [确认保存] / [取消]
                             ▼
                    ┌─────────────────┐
                    │  布线记录列表页  │
                    │     /records     │
                    └────────┬────────┘
                             │
                             │ [详情按钮]
                             ▼
                    ┌─────────────────┐
                    │    记录详情页    │
                    │   /record/:id    │
                    └────────┬────────┘
                             │
                             │ [返回列表]
                             ▼
                    ┌─────────────────┐
                    │  布线记录列表页  │
                    │     /records     │
                    └─────────────────┘
```

### 3.2 跳转说明

**布线记录列表页 → 上传文件页**
- 触发方式：点击右上角"上传"按钮
- 目标页面：`/upload`

**上传文件页 → 解析结果页**
- 触发方式：文件上传完成自动跳转
- 目标页面：`/parse-result/:fileId`
- 参数：fileId为上传文件的ID

**解析结果页 → 布线记录列表页**
- 触发方式：
  1. 点击"确认保存"按钮（保存数据后跳转）
  2. 点击"取消"按钮（不保存直接跳转）
  3. 点击右上角"返回列表"按钮
- 目标页面：`/records`

**布线记录列表页 → 记录详情页**
- 触发方式：点击表格行的"详情"按钮
- 目标页面：`/record/:id`
- 参数：id为记录的ID

**记录详情页 → 布线记录列表页**
- 触发方式：
  1. 点击"返回列表"按钮
  2. 点击右上角"返回列表"按钮
- 目标页面：`/records`

**所有页面 → 布线记录列表页**
- 触发方式：点击页面右上角的"返回列表"按钮
- 目标页面：`/records`

---

## 4. 界面交互流程

### 4.1 按机房查询流程（核心流程）

1. 用户在布线记录列表页选择一个或多个机房
2. 点击快捷机房标签快速添加/移除筛选
3. 系统自动刷新显示选中机房的记录
4. 显示各机房记录数量统计
5. 用户可以继续添加其他查询条件（关键字、线缆类型、运营商等）
6. 点击"查询"按钮或按回车键执行查询
7. 列表刷新显示查询结果
8. 显示查询结果数量和机房分组统计
9. 用户可以点击"清空条件"恢复显示所有记录

### 4.2 关键字模糊查询流程

1. 用户在关键字输入框输入查询内容
2. 系统自动在以下字段中模糊查询：
   - 登记表编号
   - IDC需求编号
   - YES工单编号
   - 用户单位
   - 线路编号
   - A端（起始端口）
   - Z端（目标端口）
   - 用户机柜
   - 运营商
   - 线缆类型
3. 点击"查询"按钮或按回车键
4. 列表刷新显示查询结果
5. 显示匹配的记录数量

### 4.3 组合查询流程

1. 用户选择机房筛选（可选）
2. 用户输入关键字查询（可选）
3. 用户选择线缆类型（可选）
4. 用户选择运营商（可选）
5. 用户选择标签齐全状态（可选）
6. 用户选择线路规范状态（可选）
7. 点击"查询"按钮
8. 系统组合所有条件进行查询
9. 显示查询结果

### 4.4 上传文件流程（简化）

1. 用户在布线记录列表页点击"上传"按钮
2. 跳转到上传文件页
3. 用户选择或拖拽Excel文件
4. 显示上传进度
5. 上传完成后自动跳转到解析结果页
6. 显示解析结果（只显示关键字段）
7. 点击"确认保存"保存数据到数据库
8. 跳转回布线记录列表页

### 4.5 查看详情流程（简化）

1. 用户在布线记录列表页点击某条记录的"详情"按钮
2. 跳转到记录详情页
3. 显示该记录的核心信息
4. 用户可以点击"返回列表"返回列表页

---

## 5. 技术实现要点

### 5.1 前端技术栈
- Vue 3 + TypeScript
- Vue Router（路由管理）
- Element Plus（UI组件库）
- Axios（HTTP请求）

### 5.2 路由配置
```typescript
const routes = [
  { path: '/', redirect: '/records' },
  { path: '/records', component: RecordList },
  { path: '/upload', component: UploadFile },
  { path: '/parse-result/:fileId', component: ParseResult },
  { path: '/record/:id', component: RecordDetail }
]
```

### 5.3 状态管理
- 使用Pinia或Vuex管理全局状态
- 主要状态：当前用户、查询条件、分页信息

---

## 6. 备注

- **核心功能**：查询功能是系统的核心，特别是按机房查询和关键字模糊查询
- **多机房支持**：系统支持多个机房的数据统一管理和查询
- **灵活查询**：支持机房筛选、关键字模糊查询、多条件组合查询
- **快速开发**：其他页面（上传、解析、详情）尽量简化，只保留核心功能
- **MVP版本**：只包含以上4个页面，后续可根据需要扩展
- **界面原则**：简洁、易用、快速响应
