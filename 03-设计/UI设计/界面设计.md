# 综合布线记录管理系统 - 界面设计

## 1. 界面概览

系统包含以下主要界面：
1. **布线记录列表页** - 主页面，显示所有布线记录
2. **上传文件页** - 上传Excel布线记录文件
3. **解析结果页** - 显示文件解析结果，确认后保存
4. **记录详情页** - 查看单条布线记录的详细信息

---

## 2. 界面详细设计

### 2.1 布线记录列表页（主页）

**页面路径：** `/` 或 `/records`

**页面布局：**
```
┌─────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                          [上传按钮] │
├─────────────────────────────────────────────────────────┤
│  查询框: [________________] [查询] [清空]              │
│  找到 X 条记录                                        │
├─────────────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────────────┐  │
│  │ 编号 │ 机房名称 │ 用户单位 │ 创建时间   │ 操作  │  │
│  ├──────────────────────────────────────────────────┤  │
│  │ WL-001│ 临港机房 │ 东方有线 │ 2025-12-24│ [详情]│  │
│  │ WL-002│ 临港机房 │ 科大讯飞 │ 2025-12-24│ [详情]│  │
│  │ WL-003│ 金桥机房 │ 永城资管 │ 2025-12-23│ [详情]│  │
│  │ ...  │ ...     │ ...     │ ...       │ ...   │  │
│  └──────────────────────────────────────────────────┘  │
├─────────────────────────────────────────────────────────┤
│  [< 上一页] 第 1 页 / 共 5 页 [下一页 >]              │
│  每页显示: [20▼] 条                                   │
└─────────────────────────────────────────────────────────┘
```

**页面元素：**
- **顶部导航栏**
  - 左侧：系统名称"综合布线记录管理系统"
  - 右侧：上传按钮（蓝色按钮）

- **查询区域**
  - 查询输入框（支持模糊查询）
  - 查询按钮
  - 清空按钮
  - 查询结果数量显示

- **数据表格**
  - 表头：编号、机房名称、用户单位、创建时间、操作
  - 表格行：显示记录数据，鼠标悬停高亮
  - 操作列：详情按钮

- **分页控件**
  - 上一页/下一页按钮
  - 页码显示
  - 每页显示数量选择器（10、20、50、100）

---

### 2.2 上传文件页

**页面路径：** `/upload`

**页面布局：**
```
┌─────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                    [< 返回列表] │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  上传布线记录文件                                       │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  │        拖拽文件到此处，或点击上传               │   │
│  │                                                 │   │
│  │      支持格式: .xlsx, .xls                      │   │
│  │      文件大小: 不超过50MB                        │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  [选择文件]                                             │
│                                                         │
│  上传进度: [████████████░░░░░░░░] 60%                 │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

**页面元素：**
- **顶部导航栏**
  - 左侧：系统名称
  - 右侧：返回列表按钮

- **上传区域**
  - 拖拽上传区域（虚线框）
  - 上传提示文字
  - 文件格式说明
  - 文件大小限制说明
  - 选择文件按钮

- **上传进度**
  - 进度条
  - 百分比显示

---

### 2.3 解析结果页

**页面路径：** `/parse-result/:fileId`

**页面布局：**
```
┌─────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                    [< 返回列表] │
├─────────────────────────────────────────────────────────┤
│  文件: 临港机房布线记录.xlsx                          │
│  解析状态: 成功 (共 25 条记录)                        │
├─────────────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────────────┐  │
│  │ 机房名称 │ IDC需求编号 │ 用户单位 │ 线路编号... │  │
│  ├──────────────────────────────────────────────────┤  │
│  │ 临港机房 │ RWD-2025... │ 东方有线 │ 47057...   │  │
│  │ 临港机房 │ Ticket#20... │ 科大讯飞 │ 47057...   │  │
│  │ ...     │ ...         │ ...     │ ...        │  │
│  └──────────────────────────────────────────────────┘  │
│                                                         │
│  [重新解析] [确认保存] [取消]                            │
└─────────────────────────────────────────────────────────┘
```

**页面元素：**
- **顶部导航栏**
  - 左侧：系统名称
  - 右侧：返回列表按钮

- **文件信息**
  - 文件名
  - 解析状态
  - 记录数量

- **解析结果表格**
  - 显示解析出的所有字段
  - 支持编辑（可点击单元格修改）

- **操作按钮**
  - 重新解析按钮
  - 确认保存按钮（绿色）
  - 取消按钮

---

### 2.4 记录详情页

**页面路径：** `/record/:id`

**页面布局：**
```
┌─────────────────────────────────────────────────────────┐
│  综合布线记录管理系统                    [< 返回列表] │
├─────────────────────────────────────────────────────────┤
│  记录详情: WL-001                                     │
├─────────────────────────────────────────────────────────┤
│  基本信息                                              │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 登记表编号: WL-001                            │   │
│  │ 机房名称: 临港机房                             │   │
│  │ IDC需求编号: RWD-20250805-065                 │   │
│  │ YES工单编号: QTJF-202508-2354                 │   │
│  │ 用户单位: 东方有线                             │   │
│  │ 线缆类型: 单模光纤                            │   │
│  │ 运营商: OCN                                   │   │
│  │ 线路编号: 4705764620ShH                       │   │
│  │ 报障人/联系方式: 400-884-1883                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  端口信息                                              │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 起始端口: 丽正路老芦公路光交                  │   │
│  │ 一跳: 接入间A-A01-ODF3-1/2                   │   │
│  │ 二跳: 接入间A-A04-ODF3-1#1/2                 │   │
│  │ 三跳: -                                      │   │
│  │ 四跳: -                                      │   │
│  │ 五跳: -                                      │   │
│  │ 目标端口: 101机房G01                         │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  其他信息                                              │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 线路标签是否齐全: 是                         │   │
│  │ 线路是否规范: 是                             │   │
│  │ 备注: -                                      │   │
│  │ 创建时间: 2025-12-24 10:30:00               │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  [编辑] [删除] [返回列表]                               │
└─────────────────────────────────────────────────────────┘
```

**页面元素：**
- **顶部导航栏**
  - 左侧：系统名称
  - 右侧：返回列表按钮

- **记录标题**
  - 记录编号

- **基本信息区域**
  - 显示所有基本信息字段

- **端口信息区域**
  - 显示起始端口、中间跳数、目标端口

- **其他信息区域**
  - 显示线路状态、备注、创建时间

- **操作按钮**
  - 编辑按钮
  - 删除按钮
  - 返回列表按钮

---

## 3. 界面跳转关系

### 3.1 跳转关系图

```
                    ┌─────────────────┐
                    │  布线记录列表页  │ (主页)
                    │     /records     │
                    └────────┬────────┘
                             │
                             │ [上传按钮]
                             ▼
                    ┌─────────────────┐
                    │    上传文件页    │
                    │     /upload     │
                    └────────┬────────┘
                             │
                             │ [上传完成]
                             ▼
                    ┌─────────────────┐
                    │   解析结果页    │
                    │ /parse-result/  │
                    │     :fileId     │
                    └────────┬────────┘
                             │
                             │ [确认保存] / [取消]
                             ▼
                    ┌─────────────────┐
                    │  布线记录列表页  │
                    │     /records     │
                    └────────┬────────┘
                             │
                             │ [详情按钮]
                             ▼
                    ┌─────────────────┐
                    │    记录详情页    │
                    │   /record/:id    │
                    └────────┬────────┘
                             │
                             │ [返回列表]
                             ▼
                    ┌─────────────────┐
                    │  布线记录列表页  │
                    │     /records     │
                    └─────────────────┘
```

### 3.2 跳转说明

**布线记录列表页 → 上传文件页**
- 触发方式：点击右上角"上传"按钮
- 目标页面：`/upload`

**上传文件页 → 解析结果页**
- 触发方式：文件上传完成自动跳转
- 目标页面：`/parse-result/:fileId`
- 参数：fileId为上传文件的ID

**解析结果页 → 布线记录列表页**
- 触发方式：
  1. 点击"确认保存"按钮（保存数据后跳转）
  2. 点击"取消"按钮（不保存直接跳转）
  3. 点击右上角"返回列表"按钮
- 目标页面：`/records`

**布线记录列表页 → 记录详情页**
- 触发方式：点击表格行的"详情"按钮
- 目标页面：`/record/:id`
- 参数：id为记录的ID

**记录详情页 → 布线记录列表页**
- 触发方式：
  1. 点击"返回列表"按钮
  2. 点击右上角"返回列表"按钮
- 目标页面：`/records`

**所有页面 → 布线记录列表页**
- 触发方式：点击页面右上角的"返回列表"按钮
- 目标页面：`/records`

---

## 4. 界面交互流程

### 4.1 上传文件流程

1. 用户在布线记录列表页点击"上传"按钮
2. 跳转到上传文件页
3. 用户选择或拖拽Excel文件
4. 显示上传进度
5. 上传完成后自动跳转到解析结果页
6. 显示解析结果
7. 用户确认或修改解析结果
8. 点击"确认保存"保存数据到数据库
9. 跳转回布线记录列表页

### 4.2 查询记录流程

1. 用户在布线记录列表页的查询框输入关键字
2. 点击"查询"按钮或按回车键
3. 列表刷新显示查询结果
4. 显示查询结果数量
5. 用户可以点击"清空"按钮恢复显示所有记录

### 4.3 查看详情流程

1. 用户在布线记录列表页点击某条记录的"详情"按钮
2. 跳转到记录详情页
3. 显示该记录的完整信息
4. 用户可以点击"返回列表"返回列表页

---

## 5. 技术实现要点

### 5.1 前端技术栈
- Vue 3 + TypeScript
- Vue Router（路由管理）
- Element Plus（UI组件库）
- Axios（HTTP请求）

### 5.2 路由配置
```typescript
const routes = [
  { path: '/', redirect: '/records' },
  { path: '/records', component: RecordList },
  { path: '/upload', component: UploadFile },
  { path: '/parse-result/:fileId', component: ParseResult },
  { path: '/record/:id', component: RecordDetail }
]
```

### 5.3 状态管理
- 使用Pinia或Vuex管理全局状态
- 主要状态：当前用户、查询条件、分页信息

---

## 6. 备注

- MVP版本只包含以上4个页面
- 界面设计遵循简洁、易用的原则
- 所有页面都有返回列表的导航
- 上传和解析流程尽量自动化，减少用户操作
